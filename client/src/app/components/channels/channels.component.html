<app-header></app-header>
<div class="page">
<div class="page__sidebar">
  <app-sidebar></app-sidebar>
</div>
<div class="page__content">

<mat-table #table [dataSource]="channels">

  <!-- Position Column -->
  <ng-container matColumnDef="id">
    <mat-header-cell *matHeaderCellDef> No. </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{element.id}} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="name">
    <mat-header-cell *matHeaderCellDef> Name. </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{element.name}} </mat-cell>
  </ng-container>

  <ng-container matColumnDef="description">
    <mat-header-cell *matHeaderCellDef> Description. </mat-header-cell>
    <mat-cell *matCellDef="let element"> {{element.description}} </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
</mat-table>

<div style="text-align:center">
    <h4>Channels</h4>
    <table class="table table-striped table-bordered table-sm">
      <thead class="">
      <tr>
        <th scope="col">Select</th>
        <th scope="col">Channel ID</th>
        <th scope="col">Channel Name</th>
        <th scope="col">Channel Description</th>
        <th scope="col">Delete</th>
        <th scope="col">Update / Add</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let channel of channels">
        <td><input type="checkbox"></td>
        <td>{{channel.id}}</td>
        <td><input class="form-control" type="text" [(ngModel)]="channel.name" value="{{channel.name}}"></td>
        <td><input class="form-control" type="text" [(ngModel)]="channel.description" value="{{channel.description}}"></td>
        <td><button (click)="deleteChannel(channel)" class="btn btn-danger btn-sm">Delete</button></td>
        <td><button (click)="updateChannel(channel)" class="btn btn-sm btn-primary">Update</button></td>
      </tr>
      <tr>
          <td colspan="2">Add new channel:</td>
          <td><input type="text" name="channel-name" [(ngModel)]="channel_name" class="form-control"></td>
          <td><input type="text" name="channel-description" [(ngModel)]="channel_description" class="form-control"></td>
          <td>.</td>
          <td><button (click)="createChannel(channel_name, channel_description)" class="btn btn-sm btn-success">Add</button></td>
      </tr>

    </tbody></table>
  </div>

</div>
</div>